<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Verificador de Dom√≠nio (IDN / Hom√≥grafo) - Seguran√ßa Tech</title>
  <meta name="color-scheme" content="light">
  <style>
    :root{
      /* Tema (igual ao da p√°gina de refer√™ncia) */
      --bg:#f4f6f8;
      --card:#fff;
      --nav:#122c66;
      --header:#0a1f44;
      --text:#0b1220;
      --muted:#475569;
      --shadow:0 10px 22px rgba(2,6,23,.10);
      --radius:14px;

      /* Estados */
      --ok:#0f7a3a;
      --warn:#8a5b00;
      --bad:#b42318;

      --line:#d7e1ef;

      --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono","Courier New", monospace;
      --sans: system-ui,-apple-system,Segoe UI,Roboto,Arial;
    }

    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: var(--sans);
      background: var(--bg);
      color: var(--text);
    }

    header{
      background: var(--header);
      color:#fff;
      padding:22px 16px;
      text-align:center;
    }
    header h1{margin:0;font-size:22px}
    header p{margin:6px 0 0;opacity:.92}

    nav{
      background: var(--nav);
      padding:10px 12px;
      display:flex;
      justify-content:center;
      gap:10px;
      flex-wrap:wrap;
      align-items:center;
      position:sticky;
      top:0;
      z-index:999;
    }
    nav a{
      color:#fff;
      text-decoration:none;
      font-weight:700;
      padding:10px 12px;
      border-radius:10px;
    }
    nav a:hover{background:rgba(255,255,255,.10)}

    .container{
      max-width:980px;
      margin:0 auto;
      padding:22px 14px;
    }

    .card{
      background: var(--card);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding:18px;
      border: 1px solid #e8eef6;
    }

    .sub{
      margin: 10px 0 0;
      color: var(--muted);
      line-height: 1.6;
      font-size: 14px;
    }

    .hr{height:1px;background:#e8eef6;margin:14px 0}

    /* ======= Mantendo a estrutura/IDs (funcionalidade intacta) ======= */
    .top{
      display:flex;
      gap: 10px;
      flex-wrap: wrap;
      align-items: center;
      justify-content: space-between;
      margin-top: 10px;
    }

    .input{
      width: 100%;
      display:flex;
      gap: 10px;
      flex-wrap: wrap;
      align-items: stretch;
    }

    textarea{
      flex: 1;
      min-width: 240px;
      min-height: 58px;
      max-height: 140px;
      resize: vertical;
      padding: 12px 12px;
      font-size: 15px;
      font-family: var(--mono);
      color: var(--text);
      background: #fff;
      border: 1px solid var(--line);
      border-radius: 12px;
      outline: none;
    }
    textarea:focus{
      border-color: rgba(18,44,102,.55);
      box-shadow: 0 0 0 4px rgba(18,44,102,.14);
    }

    .btns{display:flex; gap:10px; flex-wrap:wrap}
    button{
      padding:12px 14px;
      border:0;
      border-radius:12px;
      background:#122c66;
      color:#fff;
      font-weight:800;
      cursor:pointer;
      transition: filter .12s ease, transform .05s ease;
      white-space: nowrap;
    }
    button:hover{filter:brightness(1.05)}
    button:active{transform: translateY(1px)}

    /* Bot√µes secund√°rios no mesmo estilo (sem quebrar IDs/classes) */
    #btnCopy, #btnClear{
      background:#0a1f44;
      opacity:.95;
    }

    .hint{
      margin-top: 10px;
      color: var(--muted);
      font-size: 13px;
      line-height: 1.5;
      min-height: 18px;
    }

    .result{
      margin-top: 12px;
      display:grid;
      gap: 12px;
    }

    .badges{display:flex; gap:8px; flex-wrap:wrap}

    .badge{
      font-size: 12px;
      padding: 6px 10px;
      border-radius: 999px;
      font-weight: 900;
      border: 1px solid transparent;
    }
    .b-ok{background:#e8fff1;color:var(--ok);border-color:#c9f2da}
    .b-warn{background:#fff7e6;color:var(--warn);border-color:#ffe2ad}
    .b-bad{background:#ffecec;color:var(--bad);border-color:#ffc9c9}

    .grid{
      display:grid;
      grid-template-columns: 220px 1fr;
      gap: 8px 10px;
      align-items:start;
      font-size: 13px;
    }
    @media (max-width: 560px){
      .grid{grid-template-columns: 1fr}
    }

    .k{color: var(--muted)}
    .v{
      font-family: var(--mono);
      word-break: break-word;
      white-space: pre-wrap;
    }

    .callout{
      border: 2px solid #b42318;
      background: rgba(180,35,24,.08);
      border-radius: 14px;
      padding: 14px;
      font-size: 14px;
      line-height: 1.55;
      color: #b42318;
      font-weight: 700;
      box-shadow: 0 0 0 4px rgba(180,35,24,.10);
      animation: pulseWarn 1.5s infinite;
    }
    @keyframes pulseWarn{
      0%{ box-shadow: 0 0 0 0 rgba(180,35,24,.25); }
      70%{ box-shadow: 0 0 0 10px rgba(180,35,24,0); }
      100%{ box-shadow: 0 0 0 0 rgba(180,35,24,0); }
    }
    .callout b{font-weight: 900}

    footer{
      margin-top: 14px;
      color: var(--muted);
      font-size: 13px;
      line-height: 1.6;
      padding-top: 12px;
      border-top: 1px solid #e8eef6;
    }
    footer a{color: var(--nav); font-weight: 800; text-decoration: none}
    footer a:hover{text-decoration: underline}

/* =========================
   FOOTER REAL (SEM TRANSPAR√äNCIA)
========================= */

.st-footer{
  margin-top: 48px;
  padding: 30px 18px 20px;
  background:#0b2a4a; /* COR REAL */
  border-top: none;
}

.st-footer__wrap{
  max-width:1100px;
  margin:0 auto;
}

.st-footer__grid{
  display:grid;
  grid-template-columns:1.2fr .8fr;
  gap:20px;
}

@media (max-width:900px){
  .st-footer__grid{grid-template-columns:1fr}
}

.st-footer__card{
  background:#1f3a63; /* CARD */
  border:1px solid #2e4a74;
  border-radius:18px;
  padding:18px;
}

.st-footer__title{
  color:#e6edf7;
  margin:0 0 10px;
  font-size:18px;
  font-weight:900;
}

.st-footer__text{
  color:#e6edf7;
  font-size:16px;
  line-height:1.6;
  margin:0;
}

.st-footer__links{
  display:grid;
  gap:12px;
}

.st-footer__link{
  display:block;
  background:#2a4269; /* BOT√ÉO */
  border:1px solid #3a5686;
  padding:14px 16px;
  border-radius:14px;
  color:#e6edf7;
  text-decoration:none;
  font-size:18px;
  font-weight:900;
  transition:.15s;
}

.st-footer__link:hover{
  background:#314d7a;
}

.st-footer__hr{
  height:1px;
  background:#2e4a74; /* LINHA */
  margin:24px 0 16px;
}

.st-footer__bottom{
  text-align:center;
  color:#e6edf7;
  font-size:14px;
  font-weight:700;
}

.st-footer__bottom a{
  color:#e6edf7;
  text-decoration:none;
  font-weight:900;
}

.st-footer__bottom a:hover{
  text-decoration:underline;
}

.st-footer__dot{
  margin:0 8px;
}
    
  </style>
</head>

<body>
  <!-- Header + Nav (igual ao tema da refer√™ncia) -->
  <header>
    <h1>Verificador de Dom√≠nio (IDN / Hom√≥grafo)</h1>
    <p>Detec√ß√£o de Unicode, punycode e mistura de alfabetos</p>
  </header>

  <nav>
    <a href="../index.html">Home</a>
    <a href="../sobre.html">Sobre</a>
    <a href="../index.html">Ferramentas</a>
  </nav>

  <div class="container">
    <div class="card">
      <h2 style="margin:0 0 6px">Analisar dom√≠nio</h2>
      <div class="sub">
        Cole um link ou dom√≠nio. A ferramenta mostra sinais comuns de phishing por dom√≠nio ‚Äúparecido‚Äù:
        Unicode, punycode (<span style="font-family:var(--mono)">xn--</span>) e mistura de alfabetos.
      </div>

      <div class="top">
        <div class="input">
          <!-- IDs preservados -->
          <textarea id="inp" placeholder="Ex.: https://mercadolivre.com.br"></textarea>
          <div class="btns">
            <button id="btn" class="primary">Analisar</button>
            <button id="btnCopy">Copiar relat√≥rio</button>
            <button id="btnClear">Limpar</button>
          </div>
        </div>
      </div>

      <!-- hint + resultados preservados -->
      <div class="hint" id="hint"></div>

      <div class="hr"></div>

      <div class="result">
        <div class="badges" id="badges"></div>
        <div class="grid" id="kv"></div>
        <div class="callout" id="callout" style="display:none"></div>
      </div>

      <footer>
        <strong>Observa√ß√£o:</strong> isto √© uma triagem. Um site pode ser malicioso mesmo com dom√≠nio ‚Äúnormal‚Äù.
        Use sempre canais oficiais e desconfie de links recebidos por mensagens.
      </footer>
    </div>
  </div>

<script>
(function(){
  const $ = (id)=>document.getElementById(id);

  const inp = $("inp");
  const badges = $("badges");
  const kv = $("kv");
  const hint = $("hint");
  const callout = $("callout");

  // Um conjunto pequeno e pr√°tico de "lookalikes" muito comuns em golpes (Unicode).
  // (N√£o √© exaustivo, mas pega MUITO caso real.)
  const lookalikes = new Map([
    // Cyrillic
    ["–∞","Cir√≠lico (parece 'a')"], // U+0430
    ["–µ","Cir√≠lico (parece 'e')"], // U+0435
    ["–æ","Cir√≠lico (parece 'o')"], // U+043E
    ["—Ä","Cir√≠lico (parece 'p')"], // U+0440
    ["—Å","Cir√≠lico (parece 'c')"], // U+0441
    ["—É","Cir√≠lico (parece 'y')"], // U+0443
    ["—Ö","Cir√≠lico (parece 'x')"], // U+0445
    ["—ñ","Cir√≠lico (parece 'i')"], // U+0456
    ["—ò","Cir√≠lico (parece 'j')"], // U+0458 (dependendo da fonte)
    // Greek
    ["Œø","Grego (omicron, parece 'o')"] // U+03BF
  ]);

  function isASCII(str){ return /^[\x00-\x7F]*$/.test(str); }

  function safeURL(text){
    let t = (text || "").trim();
    if(!t) return null;
    if(!/^[a-zA-Z][a-zA-Z0-9+.-]*:\/\//.test(t)) t = "https://" + t;
    try{ return new URL(t); } catch { return null; }
  }

  function setBadges(items){
    badges.innerHTML = "";
    for (const it of items){
      const b = document.createElement("div");
      b.className = "badge " + (it.kind==="ok" ? "b-ok" : it.kind==="warn" ? "b-warn" : "b-bad");
      b.textContent = it.text;
      badges.appendChild(b);
    }
  }

  function setKV(rows){
    kv.innerHTML = "";
    for (const [k,v] of rows){
      const dk = document.createElement("div");
      dk.className = "k";
      dk.textContent = k;
      const dv = document.createElement("div");
      dv.className = "v";
      dv.textContent = v;
      kv.appendChild(dk);
      kv.appendChild(dv);
    }
  }

  function scriptMixing(host){
    // Detecta scripts (necessita suporte do navegador a Unicode property escapes).
    // Chrome/Edge modernos suportam bem.
    const hasLatin = /\p{Script=Latin}/u.test(host);
    const hasCyrillic = /\p{Script=Cyrillic}/u.test(host);
    const hasGreek = /\p{Script=Greek}/u.test(host);
    const hasArabic = /\p{Script=Arabic}/u.test(host);
    const hasHan = /\p{Script=Han}/u.test(host);
    const hasHiragana = /\p{Script=Hiragana}/u.test(host);
    const hasKatakana = /\p{Script=Katakana}/u.test(host);

    const scripts = [];
    if(hasLatin) scripts.push("Latin");
    if(hasCyrillic) scripts.push("Cir√≠lico");
    if(hasGreek) scripts.push("Grego");
    if(hasArabic) scripts.push("√Årabe");
    if(hasHan) scripts.push("Han");
    if(hasHiragana) scripts.push("Hiragana");
    if(hasKatakana) scripts.push("Katakana");

    const mixed = hasLatin && (hasCyrillic || hasGreek || hasArabic || hasHan || hasHiragana || hasKatakana);
    return {scripts, mixed};
  }

  function codepointHex(ch){
    return "U+" + ch.codePointAt(0).toString(16).toUpperCase().padStart(4,"0");
  }

  function analyze(){
    callout.style.display = "none";
    callout.textContent = "";

    const raw = (inp.value || "").trim();
    const url = safeURL(raw);

    if(!url){
      setBadges([{kind:"bad", text:"Entrada inv√°lida"}]);
      setKV([["Como usar", "Cole um link ou dom√≠nio v√°lido (ex.: mercadolivre.com.br)"]]);
      hint.textContent = "";
      return;
    }

    const hostnameASCII = url.hostname; // Geralmente j√° vem em punycode se for IDN
    const hostAsTyped = (() => {
      const u2 = safeURL(raw);
      return u2 ? u2.hostname : hostnameASCII;
    })();

    const hasPuny = hostnameASCII.includes("xn--");
    const hasUnicode = !isASCII(hostAsTyped);
    const mix = scriptMixing(hostAsTyped);

    // Detecta lookalikes
    const looks = [];
    for(const ch of hostAsTyped){
      if(lookalikes.has(ch)) looks.push({ch, note: lookalikes.get(ch)});
    }

    // Score simples
    const suspicious =
      hasPuny ||
      hasUnicode ||
      mix.mixed ||
      looks.length > 0;

    let verdict;

    if(suspicious){
      verdict = {
        kind:"bad",
        text:"‚ö†Ô∏è LINK SUSPEITO DETECTADO"
      };
    }else{
      verdict = {
        kind:"ok",
        text:"Nenhum sinal de falsifica√ß√£o detectado"
      };
    }

    const badgeItems = [
      verdict,
      {kind: hasPuny ? "warn":"ok", text: hasPuny ? "Punycode detectado (xn--)" : "Sem punycode (xn--)"},
      {kind: hasUnicode ? "warn":"ok", text: hasUnicode ? "Unicode no dom√≠nio" : "Dom√≠nio ASCII"},
      {kind: mix.mixed ? "warn":"ok", text: mix.mixed ? "Mistura de alfabetos" : "Sem mistura suspeita"}
    ];

    if(looks.length){
      badgeItems.push({kind:"warn", text:`Letras parecidas: ${looks.map(x=>x.ch).join(" ")}`});
    }

    setBadges(badgeItems);

    setKV([
      ["Entrada", raw],
      ["Hostname (ASCII / punycode)", hostnameASCII],
      ["Hostname (como colado)", hostAsTyped],
      ["Protocolo", url.protocol.replace(":","")],
      ["Caminho", url.pathname + (url.search || "")],
      ["Scripts detectados", mix.scripts.length ? mix.scripts.join(", ") : "‚Äî"]
    ]);

    if(suspicious){
      const lines = [];
      const flagged = [];
      for(const ch of hostAsTyped){
        if(!isASCII(ch) || lookalikes.has(ch)){
          flagged.push({ch, cp: codepointHex(ch), note: lookalikes.get(ch) || ""});
        }
      }
      if(flagged.length){
        lines.push("Caracteres que merecem aten√ß√£o:");
        for(const f of flagged){
          lines.push(`‚Ä¢ ${f.ch}  (${f.cp})${f.note ? " ‚Äî " + f.note : ""}`);
        }
        callout.style.display = "block";
        callout.innerHTML = `
üö® <b>CUIDADO: Foram encontrados sinais suspeitos neste link!</b><br><br>
Este dom√≠nio pode estar utilizando caracteres falsos (Unicode) para se passar por outro site leg√≠timo.<br>
Evite inserir dados pessoais ou realizar pagamentos.<br><br>
<b>Detalhes t√©cnicos detectados:</b><br>
${lines.join("<br>")}
`;
      }
    }

    hint.textContent = hasPuny
      ? "Dica: aparecendo xn--, trate como suspeito at√© confirmar por canal oficial."
      : "Dica: valide sempre por canal oficial, principalmente se for link recebido por mensagem.";
  }

  function copyReport(){
    const badgeText = Array.from(badges.querySelectorAll(".badge")).map(b=>"- " + b.textContent).join("\n");
    const keys = Array.from(kv.querySelectorAll(".k")).map(e=>e.textContent);
    const vals = Array.from(kv.querySelectorAll(".v")).map(e=>e.textContent);
    const kvText = keys.map((k,i)=>`${k}: ${vals[i]}`).join("\n");
    const extra = (callout.style.display !== "none") ? ("\n\n" + callout.textContent.trim()) : "";

    const report =
`RELAT√ìRIO ‚Ä¢ Verificador de Dom√≠nio (IDN / Hom√≥grafo)
${badgeText}

${kvText}${extra}`;

    navigator.clipboard.writeText(report).then(()=>{
      hint.textContent = "Relat√≥rio copiado ‚úÖ";
      setTimeout(()=>hint.textContent="", 2200);
    }).catch(()=>{
      hint.textContent = "N√£o consegui copiar (permiss√£o do navegador).";
      setTimeout(()=>hint.textContent="", 2200);
    });
  }

  $("btn").addEventListener("click", analyze);
  $("btnClear").addEventListener("click", ()=>{
    inp.value = "";
    setBadges([{kind:"warn", text:"Cole um link/dom√≠nio para analisar"}]);
    setKV([["Exemplo", "mercadolivre.com.br"], ["Exemplo suspeito", "mercad–ælivre.com.br (o cir√≠lico)"]]);
    callout.style.display = "none";
    hint.textContent = "";
    inp.focus();
  });
  $("btnCopy").addEventListener("click", copyReport);

  inp.addEventListener("paste", ()=> setTimeout(analyze, 40));

  // Estado inicial
  setBadges([{kind:"warn", text:"Cole um link/dom√≠nio para analisar"}]);
  setKV([["Exemplo", "mercadolivre.com.br"], ["Exemplo suspeito", "mercad–ælivre.com.br (o cir√≠lico)"]]);
})();
</script>
</body>

<footer class="st-footer">
  <div class="st-footer__wrap">
    <div class="st-footer__grid">
      <!-- Coluna esquerda -->
      <section class="st-footer__card">
        <h3 class="st-footer__title">Seguran√ßa Tech</h3>
        <p class="st-footer__text">
          Educa√ß√£o e ferramentas gratuitas para ajudar voc√™ a evitar golpes, phishing e riscos comuns na internet.
          Use com responsabilidade e sempre valide informa√ß√µes importantes por fontes oficiais.
        </p>
      </section>

      <!-- Coluna direita -->
      <section class="st-footer__card">
        <h3 class="st-footer__title">LINKS IMPORTANTES</h3>

        <div class="st-footer__links">
          <a class="st-footer__link" href="../sobre.html">Sobre</a>
          <a class="st-footer__link" href="../politica-de-privacidade.html">Pol√≠tica de Privacidade</a>
          <a class="st-footer__link" href="../termos-de-uso.html">Termos de Uso</a>
        </div>
      </section>
    </div>

    <div class="st-footer__hr"></div>

    <div class="st-footer__bottom">
      <span>¬© 2026 Seguran√ßa Tech</span>
      <span class="st-footer__dot">‚Ä¢</span>
      <a href="../ferramentas.html">Ferramentas</a>
      <span class="st-footer__dot">‚Ä¢</span>
      <a href="../blog.html">Artigos</a>
    </div>
  </div>
</footer>
  
</html>
