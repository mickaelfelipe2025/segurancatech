<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Artigos ‚Äî Seguran√ßa Tech</title>

  <meta name="description" content="Artigos pr√°ticos para voc√™ se proteger de golpes: phishing, links falsos, IP/ASN e seguran√ßa no WhatsApp." />
  <meta name="robots" content="index,follow" />
  <link rel="canonical" href="https://segurancatech.com.br/artigos.html" />

  <style>
    :root{
      --bg:#f4f6f8;
      --card:#ffffff;
      --nav:#122c66;
      --header:#0a1f44;
      --text:#0b1220;
      --muted:#475569;
      --shadow:0 10px 22px rgba(2,6,23,.10);
      --radius:14px;
      --line:#e6edf7;
      --chip:#e9f1ff;
      --chipText:#0a1f44;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;
      background:var(--bg);
      color:var(--text);
    }

    header{
      background:var(--header);
      color:#fff;
      padding:26px 16px;
      text-align:center;
    }
    header h1{margin:0 0 6px;font-size:28px}
    header p{margin:0;opacity:.9}

    nav{
      background:var(--nav);
      padding:10px 12px;
      display:flex;
      justify-content:center;
      gap:10px;
      flex-wrap:wrap;
      align-items:center;
      position:sticky;
      top:0;
      z-index:999;
    }
    nav a{
      color:#fff;
      text-decoration:none;
      font-weight:700;
      padding:10px 12px;
      border-radius:10px;
      display:inline-block;
    }
    nav a:hover{background:rgba(255,255,255,.10)}

    /* Dropdown */
    .dropdown{position:relative}
    .dropbtn{
      background:transparent;
      color:#fff;
      border:0;
      font-weight:800;
      padding:10px 12px;
      border-radius:10px;
      cursor:pointer;
      display:flex;
      align-items:center;
      gap:8px;
      font-size:16px;
    }
    .dropbtn:hover{background:rgba(255,255,255,.10)}
    .dropdown-content{
      display:none;
      position:absolute;
      top:48px;
      left:0;
      min-width:270px;
      background:#fff;
      border-radius:14px;
      box-shadow:0 18px 40px rgba(2,6,23,.20);
      overflow:hidden;
      z-index:1000;
    }
    .dropdown-content a{
      color:#0b1220;
      padding:12px 14px;
      display:block;
      text-decoration:none;
      font-weight:800;
      border-bottom:1px solid #eef2f7;
    }
    .dropdown-content a:last-child{border-bottom:none}
    .dropdown-content a:hover{background:#f6f8fb}
    .dropdown-content small{
      display:block;
      font-weight:650;
      color:#64748b;
      margin-top:2px;
    }

    .container{max-width:980px;margin:0 auto;padding:22px 14px}

    .hero{
      background:var(--card);
      border-radius:var(--radius);
      box-shadow:var(--shadow);
      padding:18px;
    }
    .hero h2{margin:0 0 6px}
    .hero p{margin:0;color:var(--muted);line-height:1.6}

    /* Barra de controles */
    .controls{
      margin-top:14px;
      display:grid;
      grid-template-columns: 1.4fr .8fr .8fr;
      gap:12px;
      align-items:end;
    }
    .field label{
      display:block;
      font-weight:900;
      color:#0a1f44;
      font-size:13px;
      margin:0 0 6px;
    }
    .input, .select{
      width:100%;
      padding:12px 12px;
      border-radius:12px;
      border:1px solid var(--line);
      outline:none;
      background:#fff;
      font-weight:700;
      color:var(--text);
    }
    .input:focus, .select:focus{
      border-color:#c7d7ff;
      box-shadow:0 0 0 4px rgba(18,44,102,.10);
    }

    .stats{
      margin-top:12px;
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      align-items:center;
    }
    .pill{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding:8px 12px;
      border-radius:999px;
      background:var(--chip);
      color:var(--chipText);
      font-weight:900;
      width:fit-content;
    }
    .muted{color:#64748b;font-weight:800}

    /* Grid de artigos */
    .grid{
      margin-top:14px;
      display:grid;
      grid-template-columns:repeat(12,1fr);
      gap:14px;
    }
    .card{
      grid-column:span 6;
      background:var(--card);
      border-radius:var(--radius);
      box-shadow:var(--shadow);
      padding:16px;
      border:1px solid rgba(0,0,0,0);
      transition: transform .12s ease, box-shadow .12s ease;
    }
    .card:hover{
      transform: translateY(-2px);
      box-shadow:0 14px 28px rgba(2,6,23,.14);
    }
    .kicker{
      display:flex;
      gap:8px;
      flex-wrap:wrap;
      align-items:center;
      margin-bottom:8px;
    }
    .tag{
      display:inline-flex;
      align-items:center;
      padding:6px 10px;
      border-radius:999px;
      background:#f6f8fb;
      border:1px solid #eef2f7;
      color:#0a1f44;
      font-weight:900;
      font-size:12px;
    }
    .card h3{margin:0 0 8px;font-size:18px}
    .card p{margin:0;color:var(--muted);line-height:1.55}
    .meta{
      margin-top:10px;
      display:flex;
      justify-content:space-between;
      gap:10px;
      flex-wrap:wrap;
      color:#64748b;
      font-weight:800;
      font-size:13px;
    }
    .actions{
      margin-top:12px;
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      align-items:center;
    }
    .btn{
      display:inline-block;
      padding:10px 12px;
      border-radius:12px;
      border:1px solid var(--line);
      background:#fff;
      font-weight:900;
      color:#0a1f44;
      text-decoration:none;
      cursor:pointer;
    }
    .btn:hover{background:#f6f8fb}
    .btn-primary{
      border:0;
      background:#122c66;
      color:#fff;
    }
    .btn-primary:hover{filter:brightness(1.05)}

    .empty{
      grid-column:span 12;
      background:#fff;
      border-radius:var(--radius);
      box-shadow:var(--shadow);
      padding:18px;
      border:1px dashed #d7e3ff;
    }
    .empty h3{margin:0 0 8px}
    .empty p{margin:0;color:var(--muted);line-height:1.6}

    @media (max-width: 860px){
      .controls{grid-template-columns:1fr}
      .card{grid-column:span 12}
    }

    /* Rodap√© ‚Äúlindo‚Äù */
    footer{
      margin-top:18px;
      background:linear-gradient(180deg, #0a1f44 0%, #071a3a 100%);
      color:#eaf0ff;
      padding:26px 14px;
    }
    .footer-wrap{max-width:980px;margin:0 auto}
    .footer-grid{
      display:grid;
      grid-template-columns: 1.2fr .8fr;
      gap:16px;
      align-items:start;
    }
    .foot-card{
      background:rgba(255,255,255,.06);
      border:1px solid rgba(255,255,255,.10);
      border-radius:16px;
      padding:16px;
    }
    .foot-card h3,.foot-card h4{margin:0 0 8px}
    .foot-card p{margin:0;color:rgba(234,240,255,.85);line-height:1.6}
    .links{display:grid;gap:10px}
    .links a{
      color:#fff;
      text-decoration:none;
      font-weight:900;
      padding:10px 12px;
      border-radius:12px;
      border:1px solid rgba(255,255,255,.12);
      background:rgba(255,255,255,.04);
      display:block;
    }
    .links a:hover{background:rgba(255,255,255,.08)}
    .footnote{
      max-width:980px;margin:14px auto 0;
      color:rgba(234,240,255,.75);
      font-size:13px;
      text-align:center;
      padding-top:14px;
      border-top:1px solid rgba(255,255,255,.12);
    }
    .footnote a{color:#fff;font-weight:900;text-decoration:none}
    .footnote a:hover{text-decoration:underline}
  </style>
</head>

<body>
<header>
  <h1>Artigos</h1>
  <p>Conte√∫do pr√°tico para voc√™ se proteger de golpes e amea√ßas digitais</p>
</header>

<nav>
  <a href="index.html">Home</a>
  <a href="sobre.html">Sobre</a>

  <div class="dropdown">
    <button class="dropbtn" id="toolsBtn" type="button" aria-haspopup="true" aria-expanded="false">
      Ferramentas <span aria-hidden="true">‚ñº</span>
    </button>
    <div class="dropdown-content" id="toolsMenu" role="menu" aria-label="Ferramentas">
      <a href="ferramentas/info-pc.html">Info t√©cnica do meu PC</a>
      <a href="ferramentas/links-falsos.html">Identificador de links falsos</a>
      <a href="ferramentas/meu-asn.html">Meu ASN</a>
      <a href="ferramentas/meu-ip.html">Meu IP</a>
      <a href="ferramentas/previsao-tempo.html">Previs√£o do tempo</a>
      <a href="ferramentas/rastreio-ip.html">Rastreio de IP</a>
    </div>
  </div>

  <a href="artigos.html">Artigos</a>
  <a href="sobre.html#contato">Contato</a>
</nav>

<div class="container">
  <section class="hero">
    <h2>Biblioteca de artigos</h2>
    <p>
      Aqui voc√™ encontra todos os meus posts em cards. Use a busca e os filtros para achar r√°pido.
    </p>

    <div class="controls">
      <div class="field">
        <label for="q">Buscar</label>
        <input class="input" id="q" type="search" placeholder="Ex.: phishing, WhatsApp, link falso, IP..." autocomplete="off" />
      </div>

      <div class="field">
        <label for="cat">Categoria</label>
        <select class="select" id="cat">
          <option value="all">Todas</option>
        </select>
      </div>

      <div class="field">
        <label for="sort">Ordenar</label>
        <select class="select" id="sort">
          <option value="new">Mais recentes</option>
          <option value="az">A‚ÄìZ</option>
        </select>
      </div>
    </div>

    <div class="stats">
      <div class="pill">üìö <span id="countTotal">0</span> artigos</div>
      <div class="pill">üîé <span id="countShown">0</span> exibidos</div>
      <span class="muted">Dica: para adicionar um artigo novo, edite a lista no final do arquivo.</span>
    </div>
  </section>

  <section class="grid" id="grid"></section>
</div>

<footer>
  <div class="footer-wrap">
    <div class="footer-grid">
      <div class="foot-card">
        <h3>Seguran√ßa Tech</h3>
        <p>
          Educa√ß√£o e ferramentas gratuitas para ajudar voc√™ a evitar golpes, phishing e riscos comuns na internet.
          Use com responsabilidade e sempre valide informa√ß√µes importantes por fontes oficiais.
        </p>
      </div>

      <div class="foot-card">
        <h4>Links importantes</h4>
        <div class="links">
          <a href="sobre.html">Sobre</a>
          <a href="politica-de-privacidade.html">Pol√≠tica de Privacidade</a>
          <a href="termos-de-uso.html">Termos de Uso</a>
        </div>
      </div>
    </div>

    <div class="footnote">
      ¬© <span id="year"></span> Seguran√ßa Tech ‚Ä¢
      <a href="ferramentas.html">Ferramentas</a> ‚Ä¢
      <a href="artigos.html">Artigos</a>
    </div>
  </div>
</footer>

<script>
  // Ano
  document.getElementById("year").textContent = new Date().getFullYear();

  // Dropdown por clique + fechar ao clicar fora/ESC
  const btn = document.getElementById("toolsBtn");
  const menu = document.getElementById("toolsMenu");
  function closeMenu(){ menu.style.display = "none"; btn.setAttribute("aria-expanded", "false"); }
  function toggleMenu(){
    const open = menu.style.display === "block";
    menu.style.display = open ? "none" : "block";
    btn.setAttribute("aria-expanded", String(!open));
  }
  btn.addEventListener("click", (e) => { e.stopPropagation(); toggleMenu(); });
  document.addEventListener("click", () => closeMenu());
  document.addEventListener("keydown", (e) => { if (e.key === "Escape") closeMenu(); });

  // =========================
  // ‚úÖ LISTA DE ARTIGOS (36 arquivos)
  // =========================
  const ARTIGOS = [
    // j√° existentes
    { title:"O que √© phishing (e como n√£o cair)", desc:"Entenda o golpe mais comum e aprenda a reconhecer sinais antes de clicar.", category:"Golpes", tags:["phishing","contas","senhas"], minutes:"8‚Äì12 min", dateISO:"2026-02-15", url:"artigos/o-que-e-phishing.html" },
    { title:"O que √© phishing (vers√£o alternativa do arquivo)", desc:"Vers√£o alternativa/atualiza√ß√£o do artigo de phishing.", category:"Golpes", tags:["phishing","golpes"], minutes:"6‚Äì10 min", dateISO:"2026-02-15", url:"artigos/o-o-que-e-phishing.html" },
    { title:"Como identificar link falso", desc:"Checklist pr√°tico: dom√≠nio, URL, subdom√≠nios e encurtadores.", category:"Links", tags:["links","url","golpe"], minutes:"8‚Äì12 min", dateISO:"2026-02-15", url:"artigos/como-identificar-link-falso.html" },
    { title:"Como saber se um IP √© perigoso", desc:"Reputa√ß√£o, origem (ASN) e contexto real ‚Äî sem paranoia.", category:"IP e Rede", tags:["ip","reputa√ß√£o","abuso"], minutes:"10‚Äì14 min", dateISO:"2026-02-15", url:"artigos/como-saber-se-um-ip-e-perigoso.html" },
    { title:"O que √© ASN? (V√≠deo + Imagens + Transcri√ß√£o)", desc:"Artigo completo com v√≠deo no meio do texto, imagens ilustrativas, checklist e transcri√ß√£o para SEO.", category:"IP e Rede", tags:["asn","ip","rede","bgp"], minutes:"10‚Äì15 min", dateISO:"2026-02-15", url:"artigos/o-que-e-asn-video.html" },
    { title:"Golpes no WhatsApp: os mais comuns", desc:"Clonagem, falso suporte, Pix e como se proteger em 2 passos.", category:"WhatsApp", tags:["whatsapp","clonagem","pix"], minutes:"10‚Äì14 min", dateISO:"2026-02-15", url:"artigos/golpes-no-whatsapp-os-mais-comuns.html" },
    { title:"Como ativar verifica√ß√£o em duas etapas no WhatsApp", desc:"Passo a passo com checklist e boas pr√°ticas.", category:"WhatsApp", tags:["whatsapp","2fa","pin","seguran√ßa"], minutes:"8‚Äì12 min", dateISO:"2026-02-15", url:"artigos/whatsapp-2fa.html" },
    { title:"Engenharia social: como os golpistas te manipulam", desc:"As t√©cnicas mentais usadas em golpes e como se defender.", category:"Golpes", tags:["engenharia social","manipula√ß√£o","urg√™ncia"], minutes:"10‚Äì14 min", dateISO:"2026-02-15", url:"artigos/engenharia-social-como-os-golpistas-te-manipulam.html" },
    { title:"Como rastreei um site falso usando ASN", desc:"Investiga√ß√£o pr√°tica: do link √† infraestrutura (com seguran√ßa).", category:"Casos reais", tags:["asn","ip","den√∫ncia"], minutes:"12‚Äì18 min", dateISO:"2026-02-17", url:"artigos/como-rastreei-um-site-falso-usando-asn.html" },
    { title:"Cliente da minha provedora caiu em phishing (caso real)", desc:"O que fazer nas primeiras horas: conter dano, recuperar contas e refor√ßar prote√ß√£o.", category:"Casos reais", tags:["phishing","incidente","provedor"], minutes:"12‚Äì18 min", dateISO:"2026-02-17", url:"artigos/cliente-da-minha-provedora-caiu-em-phishing-caso-real.html" },
    { title:"Analisei um golpe real do WhatsApp e descobri o IP", desc:"Como o golpe se sustenta e como chegar na infraestrutura.", category:"Casos reais", tags:["whatsapp","ip","investiga√ß√£o"], minutes:"12‚Äì18 min", dateISO:"2026-02-17", url:"artigos/analisei-um-golpe-real-do-whatsapp-e-descobri-o-ip.html" },

    // novos arquivos da sua lista (com metadata segura)
    { title:"Ataque Man-in-the-Middle no Wi-Fi", desc:"Como o MITM acontece e como se proteger em redes Wi-Fi.", category:"Wi-Fi", tags:["mitm","wifi","seguran√ßa"], minutes:"10‚Äì14 min", dateISO:"2026-02-18", url:"artigos/ataque-man-in-the-middle-wifi.html" },
    { title:"Ataque no roteador: troca de DNS", desc:"DNS alterado no roteador: sinais, corre√ß√£o e preven√ß√£o.", category:"Roteadores", tags:["dns","roteador","hijacking"], minutes:"10‚Äì14 min", dateISO:"2026-02-18", url:"artigos/ataque-roteador-troca-dns.html" },
    { title:"Como funciona a internet: do zero at√© a sua casa", desc:"O caminho do tr√°fego: provedor, backbone, roteamento e Wi-Fi.", category:"IP e Rede", tags:["internet","rede","provedor"], minutes:"12‚Äì18 min", dateISO:"2026-02-18", url:"artigos/como-funciona-a-internet-do-zero-ate-sua-casa.html" },
    { title:"Como funciona o golpe do suporte falso", desc:"Da abordagem ao acesso remoto: como bloquear e reagir.", category:"Golpes", tags:["suporte falso","acesso remoto","engenharia social"], minutes:"10‚Äì14 min", dateISO:"2026-02-18", url:"artigos/como-funciona-o-golpe-do-suporte-falso.html" },
    { title:"Como funciona um roteador: guia completo", desc:"WAN/LAN, NAT, DHCP, DNS, firewall e boas pr√°ticas.", category:"Roteadores", tags:["roteador","nat","dhcp"], minutes:"12‚Äì18 min", dateISO:"2026-02-18", url:"artigos/como-funciona-um-roteador-guia-completo.html" },
    { title:"DNS: guia completo (resolu√ß√£o, cache, DoH e DNSSEC)", desc:"DNS do b√°sico ao avan√ßado: onde falha e como proteger.", category:"IP e Rede", tags:["dns","doh","dnssec"], minutes:"12‚Äì18 min", dateISO:"2026-02-18", url:"artigos/dns-guia-completo-resolucao-cache-doh-dnssec.html" },
    { title:"DNS hijacking: o que √© e como se proteger", desc:"Quando o DNS √© desviado e voc√™ cai em p√°ginas falsas.", category:"IP e Rede", tags:["dns","hijacking","golpes"], minutes:"10‚Äì14 min", dateISO:"2026-02-18", url:"artigos/dns-hijacking.html" },
    { title:"Golpe: boleto alterado em e-mail corporativo", desc:"Como a fraude acontece e o que validar antes de pagar.", category:"Golpes", tags:["boleto","email","fraude"], minutes:"9‚Äì13 min", dateISO:"2026-02-18", url:"artigos/golpe-boleto-alterado-email-corporativo.html" },
    { title:"Golpe do boleto falso", desc:"Sinais pr√°ticos e valida√ß√µes essenciais no pagamento.", category:"Golpes", tags:["boleto","fraude","pagamento"], minutes:"9‚Äì13 min", dateISO:"2026-02-18", url:"artigos/golpe-do-boleto-falso.html" },
    { title:"Golpe do Pix agendado", desc:"Como funciona e como confirmar sem cair em press√£o.", category:"Golpes", tags:["pix","fraude","urg√™ncia"], minutes:"8‚Äì12 min", dateISO:"2026-02-18", url:"artigos/golpe-pix-agendado.html" },
    { title:"Golpe do QR Code falso", desc:"QR Codes maliciosos: links/pagamentos falsos e preven√ß√£o.", category:"Golpes", tags:["qrcode","links","pagamento"], minutes:"8‚Äì12 min", dateISO:"2026-02-18", url:"artigos/golpe-qr-code-falso.html" },
    { title:"Invas√£o via TeamViewer", desc:"Acesso remoto como armadilha: preven√ß√£o e resposta.", category:"Dispositivos", tags:["teamviewer","acesso remoto","seguran√ßa"], minutes:"10‚Äì14 min", dateISO:"2026-02-18", url:"artigos/invasao-via-teamviewer.html" },
    { title:"Malware Infostealer", desc:"Como roubam senhas e cookies e como reduzir risco.", category:"Malware", tags:["infostealer","malware","senhas"], minutes:"10‚Äì14 min", dateISO:"2026-02-18", url:"artigos/malware-infostealer.html" },
    { title:"O que √© DHCP?", desc:"DHCP na pr√°tica: entrega de IP, falhas comuns e diagn√≥stico.", category:"IP e Rede", tags:["dhcp","ip","rede"], minutes:"8‚Äì12 min", dateISO:"2026-02-18", url:"artigos/o-que-e-dhcp.html" },
    { title:"O que √© DNS?", desc:"Como o DNS funciona e como melhorar seguran√ßa e privacidade.", category:"IP e Rede", tags:["dns","internet","resolu√ß√£o"], minutes:"8‚Äì12 min", dateISO:"2026-02-18", url:"artigos/o-que-e-dns.html" },
    { title:"O que √© IPv6?", desc:"O que muda no IPv6 e por que ele existe.", category:"IP e Rede", tags:["ipv6","ipv4","internet"], minutes:"9‚Äì13 min", dateISO:"2026-02-18", url:"artigos/o-que-e-ipv6.html" },
    { title:"O que √© lat√™ncia?", desc:"Por que o ping aumenta e como melhorar (Wi-Fi/rota/ISP).", category:"IP e Rede", tags:["lat√™ncia","ping","rede"], minutes:"8‚Äì12 min", dateISO:"2026-02-18", url:"artigos/o-que-e-latencia.html" },
    { title:"O que √© NAT?", desc:"NAT/CGNAT e impactos em portas, jogos e c√¢meras.", category:"IP e Rede", tags:["nat","cgnat","roteador"], minutes:"9‚Äì13 min", dateISO:"2026-02-18", url:"artigos/o-que-e-nat.html" },
    { title:"O que √© packet loss?", desc:"Perda de pacotes: causas, como medir e o que fazer.", category:"IP e Rede", tags:["packet loss","rede","conex√£o"], minutes:"8‚Äì12 min", dateISO:"2026-02-18", url:"artigos/o-que-e-packet-loss.html" },
    { title:"O que √© ransomware?", desc:"Sequestro de arquivos: preven√ß√£o, backup e resposta.", category:"Malware", tags:["ransomware","backup","golpe"], minutes:"10‚Äì16 min", dateISO:"2026-02-18", url:"artigos/o-que-e-ransomware.html" },
    { title:"Rogue Access Point", desc:"Wi-Fi armadilha: como identificar AP falso e se proteger.", category:"Wi-Fi", tags:["rogue ap","wifi","seguran√ßa"], minutes:"10‚Äì14 min", dateISO:"2026-02-18", url:"artigos/rogue-access-point.html" },
    { title:"Session hijacking", desc:"Sequestro de sess√£o: cookies, riscos e mitiga√ß√£o.", category:"Contas", tags:["sess√£o","cookies","contas"], minutes:"10‚Äì14 min", dateISO:"2026-02-18", url:"artigos/session-hijacking.html" },
    { title:"SIM Swap", desc:"Golpe que toma seu n√∫mero e suas contas: como se blindar.", category:"Golpes", tags:["sim swap","2fa","contas"], minutes:"10‚Äì14 min", dateISO:"2026-02-18", url:"artigos/sim-swap.html" },
    { title:"Vazamento de dados: o que fazer", desc:"Checklist: trocas de senha, 2FA, alertas e monitoramento.", category:"Contas", tags:["vazamento","senhas","2fa"], minutes:"10‚Äì14 min", dateISO:"2026-02-18", url:"artigos/vazamento-de-dados-o-que-fazer.html" },
    { title:"Wi-Fi falso (Evil Twin)", desc:"Como evitar redes clonadas em locais p√∫blicos.", category:"Wi-Fi", tags:["evil twin","wifi","golpe"], minutes:"10‚Äì14 min", dateISO:"2026-02-18", url:"artigos/wifi-falso-evil-twin.html" }
  ];

  // Util
  const $ = (id) => document.getElementById(id);
  const grid = $("grid");
  const q = $("q");
  const cat = $("cat");
  const sort = $("sort");
  const countTotal = $("countTotal");
  const countShown = $("countShown");

  // ‚úÖ Agora aceita YYYY-MM-DD e DD/MM/YYYY (n√£o derruba a p√°gina)
  function formatBR(dateStr){
    if(!dateStr) return "‚Äî";

    // j√° est√° em BR?
    if(/^\d{2}\/\d{2}\/\d{4}$/.test(dateStr)) return dateStr;

    // ISO?
    if(/^\d{4}-\d{2}-\d{2}$/.test(dateStr)){
      const [y,m,d] = dateStr.split("-").map(Number);
      const dd = String(d).padStart(2,"0");
      const mm = String(m).padStart(2,"0");
      return `${dd}/${mm}/${y}`;
    }

    // fallback seguro (n√£o quebra)
    return String(dateStr);
  }

  function buildCategories(){
    const cats = Array.from(new Set(ARTIGOS.map(a => a.category))).sort((a,b)=>a.localeCompare(b,"pt-BR"));
    cats.forEach(c => {
      const opt = document.createElement("option");
      opt.value = c;
      opt.textContent = c;
      cat.appendChild(opt);
    });
  }

  // ‚úÖ Copiar link com dom√≠nio atual (segurancatech.com.br / github pages / etc.)
  function normalizeUrl(u){
    if(/^https?:\/\//i.test(u)) return u;
    const base = (location && location.origin) ? location.origin : "https://segurancatech.com.br";
    return `${base}/${String(u).replace(/^\/+/,"")}`;
  }

  function render(){
    const term = q.value.trim().toLowerCase();
    const selectedCat = cat.value;
    const mode = sort.value;

    let list = ARTIGOS.slice();

    if(selectedCat !== "all"){
      list = list.filter(a => a.category === selectedCat);
    }

    if(term){
      list = list.filter(a => {
        const hay = `${a.title} ${a.desc} ${a.category} ${(a.tags||[]).join(" ")}`.toLowerCase();
        return hay.includes(term);
      });
    }

    if(mode === "new"){
      // ‚úÖ Ordena por data sem quebrar: usa string ISO quando poss√≠vel; sen√£o empurra pro final
      list.sort((a,b)=>{
        const da = (String(a.dateISO||"").match(/^\d{4}-\d{2}-\d{2}$/) ? a.dateISO : "0000-00-00");
        const db = (String(b.dateISO||"").match(/^\d{4}-\d{2}-\d{2}$/) ? b.dateISO : "0000-00-00");
        return (db.localeCompare(da)) || a.title.localeCompare(b.title,"pt-BR");
      });
    }else{
      list.sort((a,b)=> a.title.localeCompare(b.title,"pt-BR"));
    }

    countTotal.textContent = String(ARTIGOS.length);
    countShown.textContent = String(list.length);

    grid.innerHTML = "";

    if(list.length === 0){
      const empty = document.createElement("div");
      empty.className = "empty";
      empty.innerHTML = `
        <h3>Nenhum artigo encontrado</h3>
        <p>Tente mudar a busca, trocar a categoria ou ajustar a ordena√ß√£o.</p>
      `;
      grid.appendChild(empty);
      return;
    }

    list.forEach(a => {
      const el = document.createElement("article");
      el.className = "card";
      el.innerHTML = `
        <div class="kicker">
          <span class="tag">${a.category}</span>
          ${(a.tags||[]).slice(0,2).map(t=>`<span class="tag">#${t}</span>`).join("")}
        </div>
        <h3>${a.title}</h3>
        <p>${a.desc}</p>
        <div class="meta">
          <span>üïí ${a.minutes}</span>
          <span>üìÖ ${formatBR(a.dateISO)}</span>
        </div>
        <div class="actions">
          <a class="btn btn-primary" href="${a.url}">Ler artigo</a>
          <button class="btn" type="button" data-copy="${a.url}">Copiar link</button>
        </div>
      `;
      grid.appendChild(el);
    });

    grid.querySelectorAll("button[data-copy]").forEach(b => {
      b.addEventListener("click", async () => {
        const u = b.getAttribute("data-copy") || "";
        const full = normalizeUrl(u);
        try{
          await navigator.clipboard.writeText(full);
          b.textContent = "‚úÖ Link copiado";
          setTimeout(()=> b.textContent = "Copiar link", 1400);
        }catch(e){
          prompt("Copie o link:", full);
        }
      });
    });
  }

  // ‚úÖ Nunca deixa a p√°gina morrer em sil√™ncio: se algo der ruim, mostra erro no console
  try{
    buildCategories();
    render();
    q.addEventListener("input", render);
    cat.addEventListener("change", render);
    sort.addEventListener("change", render);
  }catch(err){
    console.error("ERRO AO RENDERIZAR ARTIGOS:", err);
    // fallback visual
    const g = document.getElementById("grid");
    if(g){
      g.innerHTML = `
        <div class="empty">
          <h3>Ops! Houve um erro ao carregar os artigos.</h3>
          <p>Abra o console (F12) para ver o erro. Depois me mande o texto em vermelho que eu corrijo em 1 minuto.</p>
        </div>
      `;
    }
  }
</script>
</body>
</html>
